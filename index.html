<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inhala Studio | AI Lab</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background-color: #131314; color: #e3e3e3; font-family: 'Segoe UI', sans-serif; }
        .sidebar { width: 260px; background-color: #1e1f20; border-right: 1px solid #444746; }
        .main-content { flex: 1; display: flex; flex-direction: column; }
        .header { height: 56px; border-bottom: 1px solid #444746; display: flex; items-center; justify-content: space-between; px: 20px; }
        .chat-container { flex: 1; overflow-y: auto; padding: 40px 10%; }
        .input-area { padding: 20px 10%; background-color: #131314; }
        .input-wrapper { background-color: #1e1f20; border: 1px solid #444746; border-radius: 28px; padding: 12px 24px; display: flex; gap: 10px; }
        input { background: transparent; border: none; color: white; flex: 1; outline: none; }
        .model-badge { background: #333537; padding: 4px 12px; border-radius: 16px; font-size: 12px; color: #c4c7c5; border: 1px solid #444746; }
    </style>
</head>
<body class="flex h-screen">

    <aside class="sidebar flex flex-col p-4">
        <div class="mb-8 px-2 text-xl font-semibold flex items-center gap-2">
            <span class="text-blue-400">✦</span> Inhala Studio
        </div>
        <nav class="space-y-2">
            <div class="bg-[#333537] p-2 rounded-lg text-sm cursor-pointer">+ New Prompt</div>
            <div class="p-2 text-sm text-gray-400 hover:bg-[#333537] rounded-lg cursor-pointer">Library</div>
            <div class="p-2 text-sm text-gray-400 hover:bg-[#333537] rounded-lg cursor-pointer">API Keys</div>
        </nav>
        <div class="mt-auto p-2 text-xs text-gray-500 border-t border-gray-700">
            Model: Gemini 3 Flash Preview
        </div>
    </aside>

    <main class="main-content">
        <header class="header">
            <div class="flex items-center gap-4">
                <span class="text-sm font-medium">Untitled Prompt</span>
                <span class="model-badge">Gemini 3 Flash Preview</span>
            </div>
            <button class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-1.5 rounded text-sm font-medium">Get Code</button>
        </header>

        <div id="chat-box" class="chat-container space-y-6">
            <div class="text-gray-500 text-sm italic">System: Eres la IA de Inhala Studio. Tu diseño es una réplica de Google AI Studio.</div>
        </div>

        <div class="input-area">
            <div class="input-wrapper">
                <input type="text" id="user-input" placeholder="Type your message here...">
                <button onclick="sendMessage()" class="text-blue-400 font-bold px-2 hover:text-blue-300">Run</button>
            </div>
            <p class="text-[10px] text-gray-500 text-center mt-2">AI Studio replica for Inhala. Content may be inaccurate.</p>
        </div>
    </main>

    <script>
        // PEGA TU CLAVE NUEVA AQUÍ
        const API_KEY = "AIzaSyDvKQP49CYRvjW-_bSDP14seLOeTYU-WD8"; 

        async function sendMessage() {
            const input = document.getElementById('user-input');
            const box = document.getElementById('chat-box');
            const message = input.value.trim();
            if (!message) return;

            // UI: Mensaje del usuario
            box.innerHTML += `<div class="flex gap-4"><div class="font-bold text-sm text-blue-300">USER</div><div class="text-sm">${message}</div></div>`;
            input.value = '';
            
            const loadingId = "loading-" + Date.now();
            box.innerHTML += `<div id="${loadingId}" class="text-gray-500 text-sm animate-pulse">Running...</div>`;
            box.scrollTop = box.scrollHeight;

            try {
                // Conexión con tu modelo Gemini 3 Flash
                const url = `https://generativelanguage.googleapis.com/v1alpha/models/gemini-3-flash-preview:generateContent?key=${API_KEY}`;
                const response = await fetch(url, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ contents: [{ parts: [{ text: message }] }] })
                });

                const data = await response.json();
                const aiText = data.candidates[0].content.parts[0].text;
                document.getElementById(loadingId).remove();

                // UI: Respuesta estilo AI Studio
                box.innerHTML += `<div class="flex gap-4 py-4 border-t border-[#444746]"><div class="font-bold text-sm text-purple-400">MODEL</div><div class="text-sm leading-relaxed">${aiText}</div></div>`;
            } catch (error) {
                if(document.getElementById(loadingId)) document.getElementById(loadingId).innerText = "Error in Run.";
            }
            box.scrollTop = box.scrollHeight;
        }

        document.getElementById('user-input').addEventListener('keypress', (e) => { if (e.key === 'Enter') sendMessage(); });
    </script>
</body>
</html>
